# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É CO_LAB CRM

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Node.js** (–≤–µ—Ä—Å–∏—è 18 –∏–ª–∏ –≤—ã—à–µ)
2. **PostgreSQL** (–≤–µ—Ä—Å–∏—è 12 –∏–ª–∏ –≤—ã—à–µ)
3. **npm** –∏–ª–∏ **yarn**

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL

#### macOS (—Å Homebrew):
```bash
brew install postgresql
brew services start postgresql
```

#### Ubuntu/Debian:
```bash
sudo apt update
sudo apt install postgresql postgresql-contrib
sudo systemctl start postgresql
sudo systemctl enable postgresql
```

#### Windows:
–°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞: https://www.postgresql.org/download/windows/

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ PostgreSQL
psql postgres

# –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE colab_crm;

# –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
CREATE USER colab_user WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE colab_crm TO colab_user;

# –í—ã–π–¥–∏—Ç–µ –∏–∑ psql
\q
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ backend

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É backend
cd colab-crm/backend

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
# –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL
DATABASE_URL="postgresql://postgres:password@localhost:5432/colab_crm?schema=public"

# –ò–ª–∏ –µ—Å–ª–∏ —Å–æ–∑–¥–∞–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
# DATABASE_URL="postgresql://colab_user:your_password@localhost:5432/colab_crm?schema=public"

# JWT —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É)
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_EXPIRES_IN="7d"

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
PORT=5000
NODE_ENV=development

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
MAX_FILE_SIZE=10485760
UPLOAD_PATH="./uploads"

# CORS (–¥–æ–±–∞–≤—å—Ç–µ –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:8080,http://127.0.0.1:5500"
```

### 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npm run db:migrate

# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npm run db:seed
```

### 6. –ó–∞–ø—É—Å–∫ backend —Å–µ—Ä–≤–µ—Ä–∞

```bash
# Development —Ä–µ–∂–∏–º (—Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π)
npm run dev

# –ò–ª–∏ production —Ä–µ–∂–∏–º
npm start
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ http://localhost:5000

### 7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ frontend

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É frontend
cd ../frontend

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ—Å—Ç–æ–π HTTP —Å–µ—Ä–≤–µ—Ä
# –í–∞—Ä–∏–∞–Ω—Ç 1: Python (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
python -m http.server 8080

# –í–∞—Ä–∏–∞–Ω—Ç 2: Node.js (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ http-server)
npx http-server -p 8080

# –í–∞—Ä–∏–∞–Ω—Ç 3: Live Server –≤ VS Code
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ Live Server –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ login.html
```

### 8. –û—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞:
- Frontend: http://localhost:8080/login.html
- API: http://localhost:5000/health

## üéØ –î–µ–º–æ –∞–∫–∫–∞—É–Ω—Ç—ã

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `npm run db:seed` –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∞–∫–∫–∞—É–Ω—Ç—ã:

- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:** `admin@colab-crm.com` / `admin123`
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `demo@colab-crm.com` / `demo123`

## üõ† –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Backend –∫–æ–º–∞–Ω–¥—ã:
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ë–î —á–µ—Ä–µ–∑ Prisma Studio
npm run db:studio

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
npx prisma migrate dev --name your_migration_name

# –°–±—Ä–æ—Å –ë–î –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
npx prisma migrate reset

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma –∫–ª–∏–µ–Ω—Ç–∞
npm run db:generate

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –º–∏–≥—Ä–∞—Ü–∏–π
npx prisma migrate status
```

### –û—Ç–ª–∞–¥–∫–∞:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
npx prisma db pull

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ö–µ–º—ã –ë–î
npx prisma db push --preview-feature

# –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
npm run dev -- --verbose
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Database connection failed"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω
brew services list | grep postgresql  # macOS
sudo systemctl status postgresql       # Linux

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ .env
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞
psql -l | grep colab_crm
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Port 5000 already in use"
```bash
# –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –ø–æ—Ä—Ç
lsof -i :5000

# –£–±–µ–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ PORT –≤ .env
```

### –ü—Ä–æ–±–ª–µ–º–∞: "CORS error in browser"
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL frontend –¥–æ–±–∞–≤–ª–µ–Ω –≤ ALLOWED_ORIGINS –≤ .env
# –ù–∞–ø—Ä–∏–º–µ—Ä: ALLOWED_ORIGINS="http://localhost:8080"
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Migration failed"
```bash
# –°–±—Ä–æ—Å—å—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –Ω–∞—á–Ω–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
npx prisma migrate reset
npm run db:migrate
npm run db:seed
```

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ login.html
2. **–ö–ª–∏–µ–Ω—Ç—ã:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∞–∑–æ–π
3. **–°–∫–ª–∞–¥:** –£—á–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏
4. **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä:** –†–∞—Å—á–µ—Ç –Ω–∞—Ü–µ–Ω–∫–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

## üöÄ –î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è production
NODE_ENV=production
DATABASE_URL="postgresql://user:pass@your-db-host:5432/colab_crm"
JWT_SECRET="very-secure-random-string"
```

### 2. –°–±–æ—Ä–∫–∞:
```bash
npm ci --only=production
npm run db:migrate
```

### 3. –ó–∞–ø—É—Å–∫:
```bash
npm start
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è production:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PM2 –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ nginx –∫–∞–∫ reverse proxy
- –í–∫–ª—é—á–∏—Ç–µ HTTPS
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã –ë–î
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î

---

**–ì–æ—Ç–æ–≤–æ!** –í–∞—à–∞ CRM —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ